<h1><strong>1.1 인프라란?</strong></h1>
인프라를 우리말로 하면 '기반'이라고 한다.

즉, 우리 생활을 지탱하는 바탕이나 토대라는 뜻이다.

이와 마찬가지로 IT 인프라도 IT를 지탱하는 기반이다.



<h1>1.2 아키텍처</h1>



<h2>1.2.1 집약형과 분할형 아키텍처</h2>

<h4>집약형 아키텍처</h4>

집약형 아키텍처는 <strong>한 대의 고성능 대형 컴퓨터</strong>로 시스템을 구축하여 주요 업무를 모두 처리하는 아키텍처이다.

한 대의 대형 컴퓨터만 있으면 되므로 <strong>구성이 간단</strong>하다.

집약형 아키텍처의 컴퓨터는 주요 부품들이 모두 다중화 되어 있어 하나가 고장이 나더라도 업무를 계속할 수 있어 <strong>안정성</strong>이 높다.

또한, 복수의 서로 다른 업무 처리를 할 수 있도록 <strong>유한 리소스 관리</strong>를 한다. (마치 하나의 집에 여러 사람이 동거하고 있는 모습)

ex) 은행의 계정 시스템



하지만 대형 컴퓨터의 <strong>도입 및 유지 비용</strong>이 매우 크다.

또한 <strong>확장성에도 한계</strong>가 존재한다.



<h4>분할형 아키텍처</h4>

분할형 아키텍처는 <strong>여러 대의 컴퓨터를 조합</strong>해서 하나의 시스템을 구축하는 구조이다.

현재 소형 컴퓨터라도 충분한 성능을 낼 수 있고, <strong>가격이 저렴</strong>하다.

한 대의 소형 컴퓨터로는 안정성이 좋지 못하므로 여러 대의 컴퓨터를 이용하여 안정성을 높인다.

여러 대의 컴퓨터를 이용하기 때문에 <strong>확장성이 높다.</strong>

분할형 아키텍처는 표준OS나 개발 언어를 이용하기 때문에  <strong>'오픈 시스템'</strong>이라고도 부른다.

또한, 여러 대의 컴퓨터를 연결하여 이용하기 때문에 <strong>'분산 시스템'</strong>이라고도 부른다.



하지만 서버 수가 늘어나면 이를 운영하기 위한 <strong>구조가 복잡</strong>해지는 경향이 있다.

또한, 서버가 망가지면 영향 범위를 최소화하기 위해 구조를 검토해야 한다.



<h6>물리 서버와 논리 서버의 차이</h6>

분할혀 아키텍처에서 이용되는 컴퓨터를 '서버'라고 한다.

서버라는 용어는 컴퓨터(하드웨어)를 가리키는 경우도 있고, 소프트웨어를 가리키는 경우도 있다.

서버란 '특정 역할에 특화된 것'을 의미한다.

사용자의 입력 및 HTML 생성을 담당하는 것은 <strong>웹 서버</strong>이다.

대량의 데이터를 저장해서 요청에 따라 데이터를 제공하는 것은 <strong>DB 서버</strong>이다.

이러한 <strong>웹 서버와 DB 서버를 논리 서버</strong>라고 한다.

반면 <strong>컴퓨터 자체를 가리키는 경우 물리 서버</strong>라고 한다.

웹 서버나 DB 서버가 하나의 물리 서버에서 동작할 수도 있고, 각각 별도의 물리 서버에서 동작할 수도 있다.



<h2>1.2.2 수직 분할형 아키텍처</h2>

분할형 아키텍처에서는 각각의 서버가 전혀 다른 작업을 하는 것인지, 비슷한 작업을 하는 것인지 <strong>서버 분할 방식</strong>을 고려해야 한다.

수직이라고 표현한 것은 서버 측면에서 봤을 때 역할에 따라 위 또는 아래 계층으로 나뉘기 때문이다.



<h4>클라이언트-서버형 아키텍처</h4>

클라이언트-서버형 아키텍처는 업무 애클리케이션, 미들웨어, 데이터베이스 등의 소프트웨어를 '물리 서버' 상에서 운영하고 있다. 그리고 이 소프트웨어에 '클라이언트' 혹은 '단말'이라 불리는 소형 컴퓨터가 접속해서 이용하는 형태이다.

클라이언트-서버형의 특징은 클라이언트 측에서 <strong>전용 소프트웨어를 설치</strong>해야 한다는 것이다.

클라이언트에는 주로 PC가 이용되지만, 최근에는 스마트폰이나 태블릿도 이용되고 있다.

화면 표시나 단순한 계산은 클라이언트 PC에서 하고 <strong>필요한 경우 서버에서 데이터를 가져오는 방식</strong>이다.

클라이언트 측에서 많은 처리를 실행할 수 있어 <strong>소수의 서버로 다수의 클라이언트를 처리</strong>할 수 있다.



하지만 기능 추가나 버그 수정 등으로 반드시 정기 업데이트가 필요하다.

서버에 처리가 집중되면 확장성에 한계가 발생할 수 있다.



<h4>3계층형 아키텍처</h4>

클라이언트-서버형의 단점을 발전 시킨 아키텍처이다.

3계층형 아키텍처는 '프레젠테이션 계층', '애플리케이션 계층', '데이터 계층'의 3층 구조로 분할돼 있어 3계층형이라고 부른다.

<strong>프레젠테이션 계층의 역할</strong>

- 사용자 입력을 받는다
- 웹 브라우저 화면을 표시한다.

<strong>애플리케이션 계층의 역할</strong>

- 사용자 요청에 따라 업무를 지시한다.

<strong>데이터 계층의 역할</strong>

- 애플리케이션 계층의 요청에 따라 데이터 입출력을 한다.



3계층 시스템은 사용자가 웹 브라우저를 통해 시스템에 접속한다.

예를 들어, 인터넷 검색 시스템에서는 웹 브라우저에서 사용자가 입력하는 화면은 프레젠테이션 계층의 웹 서버에 전달된다.

웹 서버는 그 요청을 뒤에 있는 애플리케이션 계층의 애플리케이션 서버(AP 서버)에 전달한다.

애플리케이션 서버는 검색 키워드를 바탕으로 무엇을 검색해야 할지 판단해서 뒤에 있는 데이터 계층의 데이터베이스 서버(DB 서버)에 데이터를 요청한다.

이러한 방식을 이용하여 클라이언트-서버형에 비해 <strong>특정 서버에 부하가 집중되는 문제가 해결</strong>되었다.

또한 업무 애플리케이션 갱신에 따른 클라이언트 업데이트가 필요 없으며, 사용자는 <strong>웹 브라우저만 준비</strong>하면 된다.

게다가 모든 처리가 AP 서버와 DB서버까지 이용하지 않아도 된다.



하지만 시스템의 <strong>전체 구조가 클라이언트-서버형보다 복잡</strong>하다.



<h2>1.2.3 수평 분할형 아키텍처</h2>

수평 분할형 아키텍처는 용도가 같은 서버를 늘려나가는 방식이다.

서버 대수가 늘어나면 한 대가 시스템에 주는 영향력이 낮아져 안정성이 향상된다.

또한, 처리를 담당하는 서버가 늘어나면 전체적인 성능 향상도 실현할 수 있다.

대부분의 기업은 수직과 수평 분할을 함께 채택하고 있다.



<h4>단순 수평 분할형 아키텍처</h4>

수평 분할은 <strong>'Sharding(샤딩)'</strong>이나 <strong>'Partitioning(파티셔닝)'</strong>이라 부르기도 한다.

단순 수평 분할형 아키텍처는 시스템을 둘로 분할함으로써 시스템 <strong>전체 성능을 두 배로 향상</strong>시킬 수 있다.

또한, 두 개의 독립된 시스템이 생성되기에 하나의 시스템에 문제가 생겨도 <strong>다른 시스템에는 전혀 영향을 주지 않아</strong> 독립성이 향상된다.



하지만, <strong>애플리케이션 업데이트를 둘 다 해주어야</strong> 하고, 데이터를 따로 보관하기 때문에 <strong>양쪽 데이터를 한 번에(일원화해서)</strong> 볼 수 없다.

또한, 각 시스템의 처리량을 나눈 것이 아니기 때문에 <strong>한쪽 서버에 처리량이 치우칠 수 있다.</strong>



<h4>공유형 아키텍처</h4>

공유형 아키텍처에서는 단순 분할형과 달리 <strong>데이터 계층에서 상호 접속</strong>이 이루어 진다.

따라서, <strong>확장성이 향상</strong>되고, 분할된 <strong>시스템이 서로의 데이터를 참조</strong>할 수 있다.



하지만 분할한 시스템의 <strong>독립성이 낮아지고</strong>, 공유한 <strong>계층의 확장성이 낮아진다.</strong>



<h2>1.2.4 지리 분할형 아키텍처</h2>

지리 분할형 아키텍처는 <strong>업무 연속성 및 시스템 가용성</strong>을 높이기 위한 방식이다.



<h4>스탠바이형 아키텍처</h4>

스탠바이형 아키텍처는 스탠바이 구성, HA(High Availability) 구성, 액티브-스탠바이 구성 등으로 불린다.

스탠바이형 아키텍처는 물리 서버를 최소 두 대를 준비하여 <strong>한 대가 고장 나면 가동 중인 소프트웨어를 다른 한 대로 옮겨서 운영</strong>하는 방식이다. 이 때의 소프트웨어 재시작을 자동으로 하는 구조를 <strong>'페일오버(Failover)', '페일' 또는 'F/O'</strong>라고 한다.



이 방식으로 물리 서버 고장에 대처할 수 있지만, 보통 때는 페일오버 대상 서버가 놀고있기 때문에 리소스 측면에서 낭비가 생긴다.

이 방식을 해결하기 위해 양쪽 서버를 동시에 교차 이용(한쪽이 고장 나면 다른 한쪽이 양쪽을 처리)하는 경우도 있다.



참고로, 물리 서버가 아닌 가상화 서버를 이용하고 있는 경우 서버상의 소프트웨어 뿐만 아니라 가상 서버별로 다른 물리 서버에 페일오버하는 방식도 선택될 수 있다.



<h4>재해 대책형 아키텍처</h4>

재해 발생이 현실적인 문제가 되고 있어 인프라 아키텍처에도 재해에 대응하기 위한 <strong>'재해 복구'</strong> 구성을 취하는 일이 잦아졌다.

특정 데이터 센터(사이트)에 있는 상용 환경이 고장나면 다른 사이트에 있는 재해 대책 환경에서 업무 처리를 재개하는 것이다.



서버 장비를 최소 구성 및 동시 구성으로 별도 사이트에 배치하고, 소프트웨어 상용 환경과 동일하게 설정한다.

따라서 재해가 발생했을 경우 전혀 다른 사이트에 있는 정보를 이용하게 된다.

여기서 애플리케이션의 최신화와 데이터의 최신화가 문제가 될 수 있어 동기 처리가 필요하고 이 때의 비용, 대상 데이터, 동기 연장 특성 등을 고려해 결정할 필요가 있다.